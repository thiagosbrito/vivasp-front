<section class="main">
  <section class="feature-events-banners">
    <div class="spinner animated" ng-if="!result.hasBanners">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
    <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides" ng-if="result.hasBanners">
      <div uib-slide index="$index" ng-repeat="bn in result.bannerList track by $index">
        <a href="/categoria{{bn.linkUrl}}">
          <img ng-src="{{bn.imgUrl}}" style="margin:auto;">
          <div class="carousel-caption">
            <div class="container">
              <h4>{{bn.title}}</h4>
              <p>{{bn.description}}</p>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>
<div class="container" ng-if="state.current.name != 'main.categories.view'">
  <div class="row">
    <div class="col-md-12 add-holder">
      <img src="assets/images/adds/add-001.jpg" alt="" class="img-responsive center-block">
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-md-12 filter-holder">
      <div class="row">
        <div class="col-md-2">
          <span class="pull-right label-search">filtrar por:</span>
        </div>
        <div class="col-md-7">
          <div class="filter-options">
            <span uib-dropdown on-toggle="toggled(open)" class="filter-dropdown-holder">
              <label ng-if="result.filter.valor">
                {{result.filter.valor.description}}
              </label>
              <a href id="simple-dropdown" uib-dropdown-toggle ng-if="!result.filter.valor">
                Valor <i class="fa fa-caret-down"></i>
              </a>
              <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
                <li ng-repeat="valor in result.filters.valor"><a ng-click="setFilter('valor', valor)" ng-bind-html="valor.description"></a></li>
              </ul>
            </span>
            <span uib-dropdown on-toggle="toggled(open)" class="filter-dropdown-holder">
              <label ng-if="result.filter.regiao">
                {{result.filter.regiao.description}}
              </label>
              <a href id="simple-dropdown" uib-dropdown-toggle ng-if="!result.filter.regiao">
                Região <i class="fa fa-caret-down"></i>
              </a>
              <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
                <li ng-repeat="regiao in result.filters.regiao"><a ng-click="setFilter('regiao', regiao)" ng-bind-html="regiao.description"></a></li>
              </ul>
            </span>
            <span uib-dropdown on-toggle="toggled(open)" class="filter-dropdown-holder">
              <label ng-if="result.filter.avaliacao" ng-bind-html="result.filter.avaliacao.description"></label>
              <a href id="simple-dropdown" uib-dropdown-toggle ng-if="!result.filter.avaliacao">
                Avaliação <i class="fa fa-caret-down"></i>
              </a>
              <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
                <li ng-repeat="avaliacao in result.filters.avaliacao"><a ng-click="setFilter('avaliacao', avaliacao)" ng-bind-html="avaliacao.description"></a></li>
              </ul>
            </span>
            <span uib-dropdown on-toggle="toggled(open)" class="filter-dropdown-holder">
              <label ng-if="result.filter.tipo">
                {{result.filter.tipo.title}}
              </label>
              <a href id="simple-dropdown" uib-dropdown-toggle ng-if="!result.filter.tipo">
                Tipo <i class="fa fa-caret-down"></i>
              </a>
              <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
                <li ng-repeat="tipo in result.filters.tipo"><a ng-click="setFilter('tipo', tipo)" ng-bind-html="tipo.description"></a></li>
              </ul>
            </span>
          </div>
        </div>
        <div class="col-md-3">
          <button class="btn btn-sm btn-add-event" ng-click="doSearch(result.filter)"><i class="fa fa-search"></i> Pesquisar</button>
          <button class="btn btn-sm btn-info" ng-click="clearFilter"><i class="fa fa-times"></i> Limpar filtro</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-md-4 feat-food feat-food-infos" ng-repeat="food in result.foods[0] track by $index" ng-mouseover="food.active = true" ui-sref="main.categories.view({itemId: $index})">
      <div class="img-holder">
        <img ng-src="{{food.imageUrl}}" alt="">
      </div>
      <h3 class="event-type-title">
        {{food.title}}
      </h3>
      <ul class="food-infos">
        <li>
          <div class="infos">
            {{food.info.address.street}} - {{food.info.address.neighbourhood}} <br>
            {{food.info.address.city}} - {{food.info.address.state}} - {{food.info.address.postalCode}}
          </div>
        </li>
        <li>
          <div class="infos">
            {{food.info.schedule[0].days}}<br>
            {{food.info.schedule[0].time}}<br>
            {{food.info.schedule[1].days}}<br>
            {{food.info.schedule[1].time}}
          </div>
        </li>
        <li>
          <div class="infos">
            {{food.info.contacts.phone}}<br>
            {{food.info.contacts.email}}
          </div>
        </li>
        <li>
          <div class="infos">
            Média: {{food.info.avgPrice}}
          </div>
        </li>
        <li>
          <span ng-repeat="star in result.range(food.info.rate) track by $index"><i class="fa fa-star"></i></span>
        </li>
      </ul>
    </div>
  </div>
</div>
